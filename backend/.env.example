# Glass Box Portfolio Backend - Environment Variables
#
# Copy this file to .env and fill in the values:
#   cp .env.example .env
#
# IMPORTANT: Never commit .env to version control!
#
# For production (Cloud Run), these are configured via:
#   - GCP Secret Manager (for sensitive values like API keys)
#   - Cloud Run environment variables (for non-sensitive config)

# =============================================================================
# Required: LLM Configuration
# =============================================================================

# Gemini API Key (required for LLM calls)
# Get your key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# =============================================================================
# Application Configuration
# =============================================================================

# Environment mode: development | staging | production
ENVIRONMENT=development

# Server port (Cloud Run will override this to 8080)
PORT=8080

# =============================================================================
# CORS Configuration
# =============================================================================

# Allowed origins for CORS (comma-separated)
# In development, this allows localhost
# In production, set to your Vercel deployment URL
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# Optional: Observability & Analytics
# =============================================================================

# Log level: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO

# Enable detailed request logging (can be verbose)
# LOG_REQUESTS=false

# PostHog Analytics (optional - enables backend event tracking)
# Get your project API key from: https://app.posthog.com/settings/project#variables
# The frontend sends a distinct_id header (X-PostHog-Distinct-ID) to correlate
# frontend and backend events for the same user.
POSTHOG_API_KEY=phc_your_project_api_key_here
POSTHOG_HOST=https://eu.i.posthog.com

# =============================================================================
# Optional: Rate Limiting (if implemented)
# =============================================================================

# Maximum requests per minute per IP
# RATE_LIMIT_RPM=60

# =============================================================================
# Database (PostgreSQL)
# =============================================================================

# PostgreSQL connection string
# Local development (docker-compose): postgresql://tokenledger:tokenledger@localhost:5432/tokenledger
# Production (Neon): postgresql://user:password@host/database?sslmode=require
DATABASE_URL=postgresql://tokenledger:tokenledger@localhost:5432/tokenledger

# =============================================================================
# TokenLedger (LLM Cost Tracking)
# =============================================================================

# Enable TokenLedger cost tracking (requires DATABASE_URL)
TOKENLEDGER_ENABLED=true

# Environment name for TokenLedger events
TOKENLEDGER_ENVIRONMENT=development

# =============================================================================
# Optional: Authentication (Phase 2 - Clerk)
# =============================================================================

# Clerk publishable key
# CLERK_PUBLISHABLE_KEY=pk_test_...

# Clerk secret key
# CLERK_SECRET_KEY=sk_test_...

# =============================================================================
# Development Only
# =============================================================================

# Enable hot reload in development
# RELOAD=true

# Show full error tracebacks in responses (never enable in production!)
# DEBUG=false
